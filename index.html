<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1"> <!-- penting -->
<title>Simulasi Percepatan Pelunasan Cicilan</title>
<style>
  :root {
    --primary: #007bff;
    --primary-dark: #0056b3;
    --bg-light: #f5f5f5;
    --radius: 8px;
  }

  body {
    font-family: 'Segoe UI', Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background: white;
    color: #222;
  }

  h2 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 1.4rem;
    color: var(--primary-dark);
  }

  form {
    background: var(--bg-light);
    padding: 20px;
    border-radius: var(--radius);
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  }

  label {
    display: block;
    font-weight: 600;
    margin-top: 12px;
    font-size: 0.9rem;
  }

  input {
    padding: 10px;
    width: 100%;
    box-sizing: border-box;
    margin-top: 6px;
    border: 1px solid #ccc;
    border-radius: var(--radius);
    font-size: 1rem;
  }

  button {
    width: 100%;
    background: var(--primary);
    color: #fff;
    border: none;
    border-radius: var(--radius);
    padding: 12px;
    margin-top: 20px;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.2s;
  }

  button:hover {
    background: var(--primary-dark);
  }

  .result {
    background: var(--bg-light);
    margin-top: 20px;
    padding: 15px 20px;
    border-radius: var(--radius);
    font-size: 0.95rem;
  }

  .result h3 {
    margin-top: 0;
    color: var(--primary-dark);
  }

  /* RESPONSIVE */
  @media (max-width: 600px) {
    body {
      padding: 15px;
    }

    form {
      padding: 15px;
    }

    h2 {
      font-size: 1.2rem;
    }

    input, button {
      font-size: 0.95rem;
    }

    .result {
      font-size: 0.9rem;
      padding: 12px 15px;
    }
  }
</style>
</head>
<body>

<h2>Simulasi Percepatan Pelunasan Cicilan</h2>

<form id="formSimulasi">
  <label>Tabungan per bulan (Rp)</label>
  <input type="number" id="tabunganBulanan" required placeholder="misal 2.000.000">

  <label>Tambahan tabungan tiap 12 bulan (Rp)</label>
  <input type="number" id="bonusTahunan" required placeholder="misal 15.000.000">

  <label>Cicilan per bulan (Rp)</label>
  <input type="number" id="cicilanBulanan" value="5800000" required>

  <label>Tahun mulai cicilan & tabungan</label>
  <input type="number" id="tahunMulai" value="2026" required>

  <label>Bulan mulai cicilan & tabungan (1-12)</label>
  <input type="number" id="bulanMulai" value="6" required>

  <label>Tahun selesai cicilan</label>
  <input type="number" id="tahunSelesai" value="2031" required>

  <label>Bulan selesai cicilan (1-12)</label>
  <input type="number" id="bulanSelesai" value="5" required>

  <button type="submit">Hitung</button>
</form>

<div class="result" id="hasil"></div>

<script>
document.getElementById("formSimulasi").addEventListener("submit", function(e){
  e.preventDefault();

  const tabunganBulanan = parseFloat(document.getElementById("tabunganBulanan").value);
  const bonusTahunan = parseFloat(document.getElementById("bonusTahunan").value);
  const cicilanBulanan = parseFloat(document.getElementById("cicilanBulanan").value);
  const tahunMulai = parseInt(document.getElementById("tahunMulai").value);
  const bulanMulai = parseInt(document.getElementById("bulanMulai").value);
  const tahunSelesai = parseInt(document.getElementById("tahunSelesai").value);
  const bulanSelesai = parseInt(document.getElementById("bulanSelesai").value);

  const totalBulanCicilan = (tahunSelesai - tahunMulai) * 12 + (bulanSelesai - bulanMulai + 1);
  const totalCicilan = totalBulanCicilan * cicilanBulanan;

  let totalTabungan = 0;
  let percepatanBulan = null;

  for (let i = 1; i <= totalBulanCicilan; i++) {
    totalTabungan += tabunganBulanan;
    if (i % 12 === 0) totalTabungan += bonusTahunan;

    const sisaBulan = totalBulanCicilan - i;
    const sisaCicilan = sisaBulan * cicilanBulanan;

    if (totalTabungan > 0 && totalTabungan >= sisaCicilan && !percepatanBulan && i < totalBulanCicilan) {
      percepatanBulan = i;
    }
  }

  const bulanNames = ["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];
  let hasil = `<h3>Hasil Simulasi Percepatan Pelunasan</h3>`;
  hasil += `<p>Total cicilan normal hingga Mei ${tahunSelesai}: <b>Rp ${totalCicilan.toLocaleString('id-ID')}</b></p>`;
  hasil += `<p>Total tabungan hingga akhir periode: <b>Rp ${totalTabungan.toLocaleString('id-ID')}</b></p>`;

  if (percepatanBulan) {
    const totalBulanIndex = (tahunMulai - 1) * 12 + (bulanMulai - 1) + percepatanBulan;
    const tahunPercepatan = Math.floor(totalBulanIndex / 12);
    const bulanPercepatan = totalBulanIndex % 12;

    hasil += `<p>ðŸ’° Kamu bisa melakukan <b>percepatan pelunasan</b> pada 
              <b>${bulanNames[bulanPercepatan]} ${tahunPercepatan}</b>.</p>`;
  } else {
    hasil += `<p>Belum cukup tabungan untuk percepatan. Pelunasan normal tetap di <b>Mei ${tahunSelesai}</b>.</p>`;
  }

  document.getElementById("hasil").innerHTML = hasil;
});
</script>

</body>
</html>
